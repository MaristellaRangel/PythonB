from random import randint
palavras = ["AMARELO", "HORRORIZADO", "COELHO", "DIAMANTE", "INTESTINO"]
dicas_palavras = ["Cor", "Com medo", "Páscoa", "Jóia", "Parte do corpo"]
indice_palavra_secreta = randint(0,len(palavras)-1)
palavra_secreta = palavras[indice_palavra_secreta]
palavra_exibicao = []
letras_usadas = []
tamanho_palavra_secreta = len(palavra_secreta)

def exibir_vidas(vidas):
    for v in range(vidas):
        print("❤", end=" ")
    print(vidas)

def preencherPalavraExibicao():
    for i in range(tamanho_palavra_secreta):
        palavra_exibicao.append("_")
        
def atualizarPalavraExibicao(palavra_s, letra):
    qtd_letra = palavra_s.count(letra)
    for l in range(qtd_letra):
        indice_letra = palavra_s.index(letra)
        palavra_exibicao[indice_letra] = letra
        palavra_s = palavra_s.replace(letra,'0',1)
            
def validarLetra(letra):
    if letra.isalpha() and len(letra) == 1:
        return True
    return False
    
def verificarVidas(letra, palavra_s, vidas):
    if letra in palavra_s:
        if letra not in letras_usadas:
            letras_usadas.append(letra)
        atualizarPalavraExibicao(palavra_s, letra)
    else:
        if letra not in letras_usadas:
            letras_usadas.append(letra)
            vidas = vidas - 1
    return vidas

def verificarFimJogo(palavra_s, vidas):
    qtd_underlines = palavra_exibicao.count("_")
    if qtd_underlines == 0:
        print(*palavra_exibicao)
        print("Você venceu! 😀")
    else:
        if vidas > 0:
            if vidas == 3:
                print(f"dica: {dicas_palavras[indice_palavra_secreta]}")
            palpitarLetra(palavra_s,vidas)
        else:
            print("Acabaram suas vidas 😕")

def palpitarLetra(palavra_s, vidas=6):
    exibir_vidas(vidas)
    print(*palavra_exibicao)
    print("Letras usadas:", *letras_usadas)
    letra = input("Letra: ").upper()
    if validarLetra(letra):
        vidas = verificarVidas(letra, palavra_s, vidas)
        verificarFimJogo(palavra_s, vidas)
    else:
        print("Por favor, digite apenas uma letra!")
        palpitarLetra(palavra_s,vidas)

preencherPalavraExibicao()
palpitarLetra(palavra_secreta)
